sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t){"use strict";return{createDeviceModel:function(){var r=new e(t);r.setDefaultBindingMode("OneWay");return r},getTaskDetails:function(e,t,r){var s=!r?t.getModel():t.getOwnerComponent().getModel();s.setUseBatch(false);var o=!r?t.getModel("OrdersModel"):t.getOwnerComponent().getModel("OrdersModel");o.setProperty("/busy",true);s.callFunction("/getTaskDetails",{method:"GET",urlParameters:{user:e},success:function(e){var t=[];e.results&&e.results.forEach(e=>{t.push({...e,...e.context&&e.context.orderData&&e.context.orderData})});o.setProperty("/Orders",t);o.setProperty("/busy",false)},error:function(e){o.setProperty("/busy",false)}})},completeTask:function(e,t,r,s){var o=s.getOwnerComponent().getModel();o.setUseBatch(false);var n=s.getOwnerComponent().getModel("OrdersModel");n.setProperty("/busy",true);o.callFunction("/completeTask",{method:"POST",urlParameters:{id:e,user:t,wfId:r},success:function(){this.getTaskDetails(constants.USER_INFO,s,"test")}.bind(this),error:function(e){n.setProperty("/busy",false)}})}}});